?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook51-profile.xsl"
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "generic-entities.ent">
    %entities;
]>
<topic xml:id="task-slemicro-useradd" xml:lang="en"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">

 <info>
   <title>Adding users with the <command>useradd</command> command</title>
   <meta name="maintainer" content="Jana Halackova"/>
 </info>

 
<section xml:id="slemicro-useradd-introduction">
  <title>Introduction</title>
  <para>
    You can use the <command>useradd</command> command to add users to an already running system. However, as &slema; is btrfs based, the <filename>/home</filename> directory is mounted as a subvolume, therefore, you have to use the <command>useradd</command> command accordingly.
  </para>
</section>

<section xml:id="adding-useradd-on-btrfs">
  <title>Adding users with <command>useradd</command></title>
  <para>
    The procedure of creating users in a running system depends on the type of user you want to add. 
</para>
<para>
    To add a regular users without <command>sudo</command> privileges, proceed as described further:
  </para>
  <procedure>
    <step>
      <para>
        Run the <command>useradd</command> command as follows:
      </para> 
  <screen>&prompt.root;<command>useradd --btrfs-subvolume-home --create-home <replaceable>USER_NAME</replaceable></command></screen>
<para>
The <option>--btrfs-subvolume-home</option> denotes that the <filename>/home</filename> directory is mounted as a subvolume. The <option>--create-home</option> creates the <filename>/home</filename> under the particular subvolume. If you omit these options, the <filename>/home</filename> directory for the particular user will not be created.
</para>
</step>
<step>
  <para>
    Set a password for the new user:
  </para>
  <screen>&prompt.root;passwd <replaceable>USER_NAME</replaceable></screen>
</step>
</procedure>
  <para>
    To give the new user <command>sudo</command> privileges, you need to add the user to the <literal>wheel</literal> group:
  </para>
  <scree>&prompt.root;usermod -aG wheel <replaceable>USER_NAME</replaceable></scree>
  </section>

</topic>
