<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
[
  <!ENTITY % entities SYSTEM "../common/generic-entities.ent">
    %entities;
]>
<!-- refers to legacy doc: <add github link to legacy doc piece, if applicable> -->
<!-- point back to this document with a similar comment added to your legacy doc piece -->
<!-- refer to README.md for file and id naming conventions -->
<!-- metadata is dealt with on the assembly level -->

<topic xml:id="cockpit-formatting-partitions"
 role="task" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook" version="5.2"
 xmlns:its="http://www.w3.org/2005/11/its"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink"
 xmlns:trans="http://docbook.org/ns/transclusion">

 <title>Formatting partitions using &cockpit;</title>

  <para>
    To format the partition, proceed as follows:
  </para>
  <procedure>
    <step>
      <para>
        Navigate to the <guimenu>Storage</guimenu> page.
      </para>
    </step>
    <step>
      <para>
        In the <guimenu>Filesystem</guimenu> view click the partition you want to format.
      </para>
    </step>
    <step>
      <para>
        Click <guimenu>Format</guimenu> next to the
    particular partition description to open the format window.
      </para>
      <figure xml:id="fig-formatting-partitions">
    <title>Formatting partitions</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata  fileref="cockpit_format_partitions.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="cockpit_format_partitions.png" width="100%"/>
     </imageobject>
     <textobject role="description"><phrase>Format partition</phrase>
     </textobject>
    </mediaobject>
   </figure>
    </step>
    <step>
      <para>
        Here you can specify the following details:
      </para>
      <variablelist xml:id="list-format-partition">
    <title>Formatting partitions parameters</title>
    <varlistentry>
     <term>Name</term>
     <listitem>
      <para>
       Enter a unique name of the partition.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Type</term>
     <listitem>
      <para>
       Select the file system. BTRFS is mandatory for the <literal>/</literal>
       partition.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Mount point</term>
     <listitem>
      <para>
       This is a mandatory option. Specify to which directory the partition
       will be mounted.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Mount options</term>
     <listitem>
      <para>
       In the <guimenu>Custom mount options</guimenu> text field, you can enter
       a comma-separated list of options. For common options, refer to
       <link xlink:href="https://linux.die.net/man/8/mount">File system
       Independent Mount Options</link>. Those options are used in the
       <literal>options</literal> part of the <filename>/etc/fstab</filename>
       file.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Encryption</term>
     <listitem>
      <para>
       Select the encryption method or do not encrypt the partition. If you
       choose any of the encryption methods, the following fields appear:
      </para>
      <variablelist>
       <varlistentry>
        <term>Passphrase and Confirm</term>
        <listitem>
         <para>
          Enter a passphrase to unlock the encrypted partition.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Store passphrase</term>
        <listitem>
         <para>
          The passphrase is stored in <filename>/etc/luks-keys</filename> and
          you are not asked for the passphrase on next boot.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Custom encryption options</term>
        <listitem>
         <para>
          You can pass a list of options described in
          <link xlink:href="https://www.man7.org/linux/man-pages/man5/crypttab.5.html#SUPPORTED_OPTIONS">supported
          encrypted options</link>.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
    </step>
    <step>
      <para>
        Click <guimenu>Format</guimenu> to
    proceed.
      </para>
    </step>
  </procedure>

    <!-- move this into a separate task-->
   
   <para>
    If a partition is already formatted, you can mount it by clicking
    <guimenu>Mount</guimenu>. Here you can change the mount point and mount
    options. To proceed, click <guimenu>Mount</guimenu>.
   </para>
 
</topic>
